<?xml version="1.0" encoding="UTF-8"?>

<?import com.jfoenix.controls.JFXButton?>
<?import javafx.scene.chart.BarChart?>
<?import javafx.scene.chart.CategoryAxis?>
<?import javafx.scene.chart.NumberAxis?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.Pane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.shape.Rectangle?>
<?import javafx.scene.text.Text?>

<AnchorPane fx:id="rootNode"
            prefWidth="1200"
            prefHeight="720"
            stylesheets="@../css/dashboard.css"
            xmlns="http://javafx.com/javafx/21"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="lk.ijse.AutoCareCenter.controller.DashboardFormController">

   <!-- ================= LEFT SIDEBAR ================= -->
   <Pane prefWidth="220"
         AnchorPane.topAnchor="0"
         AnchorPane.bottomAnchor="0"
         styleClass="sidebar">

      <children>
         <!-- Logo -->
         <ImageView fitWidth="120" fitHeight="90" layoutX="50" layoutY="20">
            <image>
               <Image url="@../asserts/Gemini_Generated_Image_45mldj45mldj45ml-removebg-preview.png" />
            </image>
         </ImageView>

         <!-- Menu -->
         <VBox layoutX="20" layoutY="140" spacing="20" prefWidth="180">
            <JFXButton text="ðŸ  Home" styleClass="nav-btn" onAction="#btnHomeOnAction"/>
            <JFXButton text="ðŸ“¦ Products" styleClass="nav-btn" onAction="#btnMaterialsOnAction"/>
            <JFXButton text="ðŸ­ Supplier" styleClass="nav-btn" onAction="#btnSupplierOnAction"/>
            <JFXButton text="ðŸ’³ Payment" styleClass="nav-btn" onAction="#btnOrdersOnAction"/>
            <JFXButton text="ðŸ“Š All Payments" styleClass="nav-btn" onAction="#btnAllPayOnAction"/>
            <JFXButton text="ðŸ’° Loan Payments" styleClass="nav-btn" onAction="#btnLoanOnAction"/>
            <JFXButton text="ðŸ§¾ Cheques" styleClass="nav-btn" onAction="#btnAllCheque"/>
         </VBox>

         <!-- Logout -->
         <JFXButton text="ðŸšª Logout"
                    layoutX="50"
                    layoutY="660"
                    prefWidth="120"
                    styleClass="logout-btn"/>
      </children>
   </Pane>

   <!-- ================= MAIN CONTENT ================= -->
   <AnchorPane AnchorPane.leftAnchor="220"
               fx:id="dashPane"
               AnchorPane.rightAnchor="0"
               AnchorPane.topAnchor="0"
               AnchorPane.bottomAnchor="0"
               styleClass="main-content">

      <!-- TOP BAR -->
      <Pane prefHeight="70"
            AnchorPane.topAnchor="0"
            AnchorPane.leftAnchor="0"
            AnchorPane.rightAnchor="0"
            styleClass="topbar">

         <children>
            <Text text="Gamage Oil Mart - Admin"
                  layoutX="30"
                  layoutY="42"
                  styleClass="topbar-title"/>

            <Label fx:id="lblTime"
                   layoutX="820"
                   layoutY="25"
                   styleClass="topbar-time"/>

            <ImageView fitWidth="40" fitHeight="40" layoutX="920" layoutY="15">

            </ImageView>
         </children>
      </Pane>

      <!-- CONTENT AREA -->
      <AnchorPane AnchorPane.topAnchor="70"
                  AnchorPane.bottomAnchor="0"
                  AnchorPane.leftAnchor="0"
                  AnchorPane.rightAnchor="0"
                  styleClass="content-background">

         <!-- Welcome -->
         <Label text="Dashboard Overview"
                layoutX="40"
                layoutY="30"
                styleClass="welcome-text"/>

         <!-- ===== SUMMARY CARDS ===== -->
         <Rectangle layoutX="40" layoutY="80" width="200" height="110" arcWidth="15" arcHeight="15" styleClass="card"/>
         <Label text="Today Income" layoutX="60" layoutY="100" styleClass="card-title"/>
         <Label fx:id="lblTodayIncome" text="Rs. 0.00" layoutX="60" layoutY="140" styleClass="card-value"/>

         <Rectangle layoutX="260" layoutY="80" width="200" height="110" arcWidth="15" arcHeight="15" styleClass="card"/>
         <Label text="Monthly Income" layoutX="280" layoutY="100" styleClass="card-title"/>
         <Label fx:id="lblMonthlyIncome" text="Rs. 0.00" layoutX="280" layoutY="140" styleClass="card-value"/>

         <Rectangle layoutX="480" layoutY="80" width="200" height="110" arcWidth="15" arcHeight="15" styleClass="card"/>
         <Label text="Yearly Income" layoutX="500" layoutY="100" styleClass="card-title"/>
         <Label fx:id="lblYearlyIncome" text="Rs. 0.00" layoutX="500" layoutY="140" styleClass="card-value"/>

         <!-- ===== CHART ===== -->
         <BarChart fx:id="incomeChart"
                   layoutX="40"
                   layoutY="230"
                   prefWidth="700"
                   prefHeight="350"
                   title="Income Summary">

            <xAxis>
               <CategoryAxis label="Period"/>
            </xAxis>

            <yAxis>
               <NumberAxis label="Income (Rs)"/>
            </yAxis>
         </BarChart>

         <!-- CHART BUTTONS -->
         <JFXButton text="Daily"
                    layoutX="760"
                    layoutY="260"
                    prefWidth="140"
                    styleClass="secondary-btn"
                    onAction="#loadDaily"/>

         <JFXButton text="Monthly"
                    layoutX="760"
                    layoutY="320"
                    prefWidth="140"
                    styleClass="secondary-btn"
                    onAction="#loadMonthly"/>

         <JFXButton text="Yearly"
                    layoutX="760"
                    layoutY="380"
                    prefWidth="140"
                    styleClass="secondary-btn"
                    onAction="#loadYearly"/>

      </AnchorPane>
   </AnchorPane>
</AnchorPane>
