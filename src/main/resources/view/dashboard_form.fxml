<?xml version="1.0" encoding="UTF-8"?>

<?import com.jfoenix.controls.JFXButton?>
<?import javafx.scene.chart.BarChart?>
<?import javafx.scene.chart.CategoryAxis?>
<?import javafx.scene.chart.NumberAxis?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.Pane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.shape.Rectangle?>
<?import javafx.scene.text.Text?>

<AnchorPane fx:id="rootNode" prefHeight="700" prefWidth="1240" stylesheets="@../css/dashboard.css" xmlns="http://javafx.com/javafx/21" xmlns:fx="http://javafx.com/fxml/1" fx:controller="lk.ijse.AutoCareCenter.controller.DashboardFormController">

   <!-- ================= LEFT SIDEBAR ================= -->
   <Pane prefWidth="220" styleClass="sidebar" AnchorPane.bottomAnchor="0" AnchorPane.topAnchor="0">

      <children>
         <!-- Logo -->
         <ImageView fitHeight="90" fitWidth="120" layoutX="50" layoutY="20">
            <image>
               <Image url="@../asserts/Gemini_Generated_Image_45mldj45mldj45ml-removebg-preview.png" />
            </image>
         </ImageView>

         <!-- Menu -->
         <VBox layoutX="20" layoutY="140" prefWidth="180" spacing="20">
            <JFXButton onAction="#btnHomeOnAction" styleClass="nav-btn" text="ðŸ  Home" />
            <JFXButton onAction="#btnMaterialsOnAction" styleClass="nav-btn" text="ðŸ“¦ Products" />
            <JFXButton onAction="#btnSupplierOnAction" styleClass="nav-btn" text="ðŸ­ Supplier" />
            <JFXButton onAction="#btnOrdersOnAction" styleClass="nav-btn" text="ðŸ’³ Payment" />
            <JFXButton onAction="#btnAllPayOnAction" styleClass="nav-btn" text="ðŸ“Š All Payments" />
            <JFXButton onAction="#btnLoanOnAction" styleClass="nav-btn" text="ðŸ’° Loan Payments" />
            <JFXButton onAction="#btnAllCheque" styleClass="nav-btn" text="ðŸ§¾ Cheques" />
         </VBox>

         <!-- Logout -->
         <JFXButton layoutX="50.0" layoutY="634.0" onAction="#exit" prefWidth="120" styleClass="logout-btn" text="ðŸšª Logout" />
      </children>
   </Pane>

   <!-- ================= MAIN CONTENT ================= -->
   <AnchorPane fx:id="dashPane" styleClass="main-content" AnchorPane.bottomAnchor="0" AnchorPane.leftAnchor="220" AnchorPane.rightAnchor="0" AnchorPane.topAnchor="0">

      <!-- TOP BAR -->
      <Pane prefHeight="70" styleClass="topbar" AnchorPane.leftAnchor="0" AnchorPane.rightAnchor="0" AnchorPane.topAnchor="0">

         <children>
            <Text layoutX="30" layoutY="42" styleClass="topbar-title" text="Gamage Oil Mart - Admin" />

            <Label fx:id="lblTime" layoutX="820" layoutY="25" styleClass="topbar-time" />

            <ImageView fitHeight="40" fitWidth="40" layoutX="920" layoutY="15">

            </ImageView>
         </children>
      </Pane>

      <!-- CONTENT AREA -->
      <AnchorPane styleClass="content-background" AnchorPane.bottomAnchor="0" AnchorPane.leftAnchor="0" AnchorPane.rightAnchor="0" AnchorPane.topAnchor="70">

         <!-- Welcome -->
         <Label layoutX="40" layoutY="30" styleClass="welcome-text" text="Dashboard Overview" />

         <!-- ===== SUMMARY CARDS ===== -->
         <Rectangle arcHeight="15" arcWidth="15" height="110" layoutX="40" layoutY="80" styleClass="card" width="200" />
         <Label layoutX="60" layoutY="100" styleClass="card-title" text="Today Income" />
         <Label fx:id="lblTodayIncome" layoutX="60" layoutY="140" styleClass="card-value" text="Rs. 0.00" />

         <Rectangle arcHeight="15" arcWidth="15" height="110" layoutX="260" layoutY="80" styleClass="card" width="200" />
         <Label layoutX="280" layoutY="100" styleClass="card-title" text="Monthly Income" />
         <Label fx:id="lblMonthlyIncome" layoutX="280" layoutY="140" styleClass="card-value" text="Rs. 0.00" />

         <Rectangle arcHeight="15" arcWidth="15" height="110" layoutX="480" layoutY="80" styleClass="card" width="200" />
         <Label layoutX="500" layoutY="100" styleClass="card-title" text="Yearly Income" />
         <Label fx:id="lblYearlyIncome" layoutX="500" layoutY="140" styleClass="card-value" text="Rs. 0.00" />

         <!-- ===== CHART ===== -->
         <BarChart fx:id="incomeChart" layoutX="40" layoutY="230" prefHeight="350" prefWidth="700" title="Income Summary">

            <xAxis>
               <CategoryAxis label="Period" />
            </xAxis>

            <yAxis>
               <NumberAxis label="Income (Rs)" />
            </yAxis>
         </BarChart>

         <!-- CHART BUTTONS -->
         <JFXButton layoutX="760" layoutY="260" onAction="#loadDaily" prefWidth="140" styleClass="secondary-btn" text="Daily" />

         <JFXButton layoutX="760" layoutY="320" onAction="#loadMonthly" prefWidth="140" styleClass="secondary-btn" text="Monthly" />

         <JFXButton layoutX="760" layoutY="380" onAction="#loadYearly" prefWidth="140" styleClass="secondary-btn" text="Yearly" />

      </AnchorPane>
   </AnchorPane>
</AnchorPane>
