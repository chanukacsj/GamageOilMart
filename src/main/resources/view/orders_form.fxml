<?xml version="1.0" encoding="UTF-8"?>

<?import com.jfoenix.controls.JFXButton?>
<?import com.jfoenix.controls.JFXComboBox?>
<?import com.jfoenix.controls.JFXTextField?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.shape.Rectangle?>

<AnchorPane fx:id="root" prefHeight="700" prefWidth="1000" stylesheets="@../css/order.css" xmlns="http://javafx.com/javafx/21" xmlns:fx="http://javafx.com/fxml/1" fx:controller="lk.ijse.AutoCareCenter.controller.OrdersFormController">

   <!-- HEADER BAR -->
   <Rectangle fill="#1A237E" height="70" width="1020" />

   <Label layoutX="400" layoutY="15" style="-fx-font-size: 32px; -fx-text-fill: white; -fx-font-weight: bold;" text="Payment" />

   <!-- MAIN CARD -->
   <AnchorPane layoutX="60" layoutY="100" prefHeight="550" prefWidth="900" style="-fx-background-color: #FFFFFF; -fx-background-radius: 18;                        -fx-padding: 25;                        -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.18), 25, 0, 0, 6);">

      <!-- TABLE -->
      <TableView fx:id="tblOrderCart" layoutX="25" layoutY="25" prefHeight="220" prefWidth="850" style="-fx-background-radius: 10; -fx-border-radius: 10;">
         <columns>
            <TableColumn fx:id="colItemCode" prefWidth="90" text="Code" />
            <TableColumn fx:id="colDescription" prefWidth="160" text="Description" />
            <TableColumn fx:id="colQty" prefWidth="100" text="Qty" />
            <TableColumn fx:id="colUnitPrice" prefWidth="120" text="Unit Price" />
            <TableColumn fx:id="colCharge" prefWidth="100" text="Charge" />
            <TableColumn fx:id="colTotal" prefWidth="120" text="Total" />
            <TableColumn fx:id="colAction" prefWidth="120" text="Action" />
         </columns>
      </TableView>

      <!-- ORDER DETAILS BLOCK -->
      <Label layoutX="30" layoutY="265" style="-fx-font-weight: bold;" text="Order ID:" />
      <Label layoutX="31.0" layoutY="297.0" style="-fx-font-weight: bold;" text="Scan Barcode:" />
   
      <JFXTextField fx:id="txtBarcode" layoutX="115.0" layoutY="293.0" onAction="#txtBarcodeOnAction" prefWidth="180" promptText="Scan here &amp; press Enter" />
      <Label fx:id="lblOrderId" layoutX="140" layoutY="265" style="-fx-font-size: 15px; -fx-text-fill: #2C3E50;" />

      <Label layoutX="350" layoutY="265" style="-fx-font-weight: bold;" text="Order Date:" />
      <Label fx:id="lblOrderDate" layoutX="450" layoutY="265" style="-fx-font-size: 15px; -fx-text-fill: #2C3E50;" />
      <Label fx:id="LblCustomerName" layoutX="450" layoutY="295" style="-fx-font-size: 15px; -fx-text-fill: #2C3E50;" />

      <!-- MATERIAL SELECTION AREA -->
      <Rectangle arcHeight="15" arcWidth="15" height="120" layoutX="25" layoutY="330" style="-fx-fill: #F7F9FA; -fx-stroke: #E0E0E0; -fx-stroke-width: 1;" width="850" />

      <Label layoutX="40" layoutY="350" style="-fx-font-weight: bold;" text="Material Code:" />
      <JFXComboBox fx:id="cmbMaterialCode" layoutX="150" layoutY="345" onAction="#cmbmaterialOnAction" prefWidth="180" />

      <Label layoutX="370" layoutY="350" style="-fx-font-weight: bold;" text="Description:" />
      <Label fx:id="lblDescription" layoutX="470" layoutY="350" style="-fx-text-fill: #c0392b; -fx-font-size: 14px; -fx-font-weight: bold;" />

      <Label layoutX="40" layoutY="395" style="-fx-font-weight: bold;" text="Unit Price:" />
      <Label fx:id="lblUnitPrice" layoutX="140" layoutY="395" style="-fx-text-fill: #2980b9; -fx-font-weight: bold;" />

      <Label layoutX="370" layoutY="395" style="-fx-font-weight: bold;" text="Qty On Hand:" />
      <Label fx:id="lblQtyOnHand" layoutX="490" layoutY="395" style="-fx-text-fill: #6c5ce7; -fx-font-weight: bold;" />

      <Label layoutX="670" layoutY="350" style="-fx-font-weight: bold;" text="Qty:" />
      <JFXTextField fx:id="txtQty" layoutX="710" layoutY="345" onAction="#txtQtyOnAction" prefWidth="80" />

      <Label layoutX="670" layoutY="395" style="-fx-font-weight: bold;" text="Service Charge:" />
      <JFXTextField fx:id="txtServiceCharge" layoutX="780" layoutY="390" onAction="#ServiceChargeOnAction" prefWidth="80" />

      <!-- TOTAL -->
      <Label layoutX="30" layoutY="495" style="-fx-font-weight: bold; -fx-font-size: 18px;" text="Net Total:" />
      <Label fx:id="lblNetTotal" layoutX="140" layoutY="493" style="-fx-font-size: 24px; -fx-text-fill: #e74c3c; -fx-font-weight: bold;" />

      <!-- ACTION BUTTONS (right aligned) -->
      <JFXButton fx:id="btnAdd" layoutX="705" layoutY="265" onAction="#btnPlaceCartOnAction" prefWidth="160" styleClass="primary-btn" text="Add to Cart" />

      <JFXButton fx:id="btnPlaceOrder" layoutX="705" layoutY="490" onAction="#btnPlaceOrderOnAction" prefWidth="160" styleClass="success-btn" text="Place Order" />

      <JFXButton fx:id="btnPrint" layoutX="525" layoutY="490" onAction="#btnPrintBillOnAction" prefWidth="160" styleClass="secondary-btn" text="Print Bill" />
      <JFXButton fx:id="btnViewPayments" layoutX="350" layoutY="490" onAction="#openLoanPayment" prefWidth="160" styleClass="secondary-btn" text="View Payments" />

   </AnchorPane>

</AnchorPane>
